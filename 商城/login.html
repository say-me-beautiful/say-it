<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="css/login_register.css">
	</head>
	<body>
		<div id="logheader">
			<a href="index.html"></a>
			<p>依《网络安全法》相关要求，即日起美丽说会员登陆需绑定手机。为保障您的账户安全及正常使用，如您尚未绑定，请尽快完成绑定，感谢您的理解和支持!</p>
		</div>
		<div id="loginbg">
			<div id="loginbox">
				<div id="logintitle">
					<div id="normal-log" class="click-change">
						普通登录
					</div>
					<div id="phone-log">
						手机无密码登录
					</div>
				</div>

				<div id="twologin-way">
					<div id="log-by-normal">
						<div class="login-section">
							<span class="warning">
								<i></i>
							</span>
							<input type="text" name="username" autocomplete="off" class="username" placeholder="请输入用户名">
			  			<input type="password" name="password" class="password" placeholder="请输入密码">
			  			<input type="button" class="button" value="登录">
						</div>
						<div class="other-log">
							<a href="#"><i></i>QQ登录</a>
							<a href="#"><i></i>微信登录</a>
						</div>
						<div class="reg-now">
							<a href="#" style="margin-left:192px;color:#9e8c8a;">忘记密码</a>
							<a href="register.html">免费注册</a>
						</div>
					</div>

					<div id="log-by-phone">
						<div class="login-section">
							<span class="warning">
								<i></i>
							</span>
							<div id="get-phone">
								<div>
									<span class="country">中国</span>
									<span class="country-selector"><img src="img/down.png"></span>
								</div>
								<input type="text" name=""autocomplete="off" placeholder="手机号码">
							</div>
							<div id="get-password">
								<span>获取动态密码</span>
								<input type="text" name=""autocomplete="off" placeholder="动态密码">
							</div>
			  			<input type="button" class="button" value="登录">
						</div>
						<div class="other-log">
							<a href="#"><i></i>QQ登录</a>
							<a href="#"><i></i>微信登录</a>
						</div>
						<div class="reg-now">
							<a href="#" style="margin-left:192px;color:#9e8c8a;">忘记密码</a>
							<a href="register.html">免费注册</a>
						</div>
					</div>
				</div>
			</div>
			<ul class="country-box">
				<li>阿尔巴尼亚</li>
				<li>阿尔及利亚</li>
				<li>阿富汗</li>
				<li>阿根廷</li>
				<li>阿拉伯联合酋长国</li>
				<li>阿拉伯叙利亚共和国</li>
				<li>阿鲁巴</li>
				<li>阿曼</li>
				<li>阿塞拜疆</li>
				<li>埃及</li>
				<li>埃塞俄比亚</li>
				<li>爱尔兰</li>
				<li>爱沙尼亚</li>
				<li>安道尔</li>
				<li>安哥拉</li>
				<li>安提瓜和巴布达</li>
				<li>奥地利</li>
				<li>澳洲</li>
				<li>巴巴多斯</li>
				<li>巴布亚新几内亚</li>
				<li>巴哈马群岛</li>
				<li>巴基斯坦</li>
				<li>巴拉圭</li>
				<li>巴林</li>
				<li>巴拿马</li>
				<li>巴西</li>
				<li>白俄罗斯</li>
				<li>百慕大群岛</li>
				<li>保加利亚</li>
				<li>贝宁</li>
				<li>比利时</li>
				<li>冰岛</li>
				<li>波多黎各</li>
				<li>波黑（波斯尼亚和黑塞哥维那）</li>
				<li>波兰</li>
				<li>玻利维亚</li>
				<li>伯利兹</li>
				<li>博茨瓦纳</li>
				<li>不丹</li>
				<li>布基纳法索</li>
				<li>布隆迪</li>
				<li>赤道几内亚</li>
				<li>丹麦</li>
				<li>德国</li>
				<li>帝汶岛</li>
				<li>多哥</li>
				<li>多米尼加共和国</li>
				<li>多米尼克</li>
				<li>俄罗斯</li>
				<li>厄瓜多尔</li>
				<li>法国</li>
				<li>法罗群岛</li>
				<li>法属圭亚那</li>
				<li>菲律宾</li>
				<li>斐济</li>
				<li>芬兰</li>
				<li>佛得角</li>
				<li>冈比亚</li>
				<li>刚果</li>
				<li>刚果民族共和国</li>
				<li>哥伦比亚</li>
				<li>哥斯达黎加</li>
				<li>格林纳达</li>
				<li>格林兰岛</li>
				<li>格鲁吉亚</li>
				<li>古巴</li>
				<li>关岛</li>
				<li>圭亚那</li>
				<li>哈萨克斯坦</li>
				<li>海地</li>
				<li>韩国</li>
				<li>荷兰</li>
				<li>荷属安的列斯群岛</li>
				<li>黑山共和国</li>
				<li>洪都拉斯</li>
				<li>吉布提</li>
				<li>吉尔吉斯斯坦</li>
				<li>几内亚</li>
				<li>几内亚比绍共和国</li>
				<li>加拿大</li>
				<li>加纳</li>
				<li>加蓬</li>
				<li>柬埔寨</li>
				<li>捷克共和国</li>
				<li>津巴布韦</li>
				<li>喀麦隆</li>
				<li>卡塔尔</li>
				<li>开曼群岛</li>
				<li>科摩罗</li>
				<li>科索沃</li>
				<li>科威特</li>
				<li>克罗地亚</li>
				<li>肯尼亚</li>
				<li>库克群岛</li>
				<li>拉脱维亚</li>
				<li>莱索托</li>
				<li>老挝人民民主共和国</li>
				<li>黎巴嫩</li>
				<li>立陶宛</li>
				<li>利比里亚</li>
				<li>利比亚</li>
				<li>列支敦斯登</li>
				<li>留尼旺</li>
				<li>卢森堡</li>
				<li>卢旺达</li>
				<li>罗马尼亚</li>
				<li>马达加斯加</li>
				<li>马尔代夫</li>
				<li>马耳他</li>
				<li>马拉维</li>
				<li>马来西亚</li>
				<li>马里</li>
				<li>马其顿王国</li>
				<li>马提尼克</li>
				<li>毛里求斯</li>
				<li>毛里塔尼亚</li>
				<li>美国</li>
				<li>美国</li>
				<li>蒙古</li>
				<li>蒙特塞拉特岛</li>
				<li>孟加拉</li>
				<li>秘鲁</li>
				<li>缅甸</li>
				<li>摩尔多瓦</li>
				<li>摩洛哥</li>
				<li>莫桑比克</li>
				<li>墨西哥</li>
				<li>纳米比亚</li>
				<li>南非</li>
				<li>尼加拉瓜</li>
				<li>尼日尔</li>
				<li>尼日利亚</li>
				<li>挪威</li>
				<li>葡萄牙</li>
				<li>日本</li>
				<li>瑞典</li>
				<li>瑞士</li>
				<li>萨瓦尔</li>
				<li>萨摩亚群岛</li>
				<li>塞尔维亚</li>
				<li>塞拉利昂</li>
				<li>塞内加尔</li>
				<li>塞浦路斯</li>
				<li>塞舌尔</li>
				<li>萨特阿拉伯</li>
				<li>圣克里斯托弗和尼维斯群岛</li>
				<li>圣卢西亚岛</li>
				<li>圣文森特和格林纳丁斯</li>
				<li>斯里兰卡</li>
				<li>斯洛伐克</li>
				<li>斯洛文尼亚</li>
				<li>斯威士兰</li>
				<li>苏丹</li>
				<li>苏里南</li>
				<li>所罗门群岛</li>
				<li>索马里</li>
				<li>塔吉克斯坦</li>
				<li>泰国</li>
				<li>坦桑尼亚</li>
				<li>汤加</li>
				<li>特克斯和凯科斯群岛</li>
				<li>突尼斯</li>
				<li>土耳其</li>
				<li>土库曼斯坦</li>
				<li>瓦努阿图</li>
				<li>危地马拉</li>
				<li>委内瑞拉</li>
				<li>文莱达鲁萨兰国</li>
				<li>乌干达</li>
				<li>乌克兰</li>
				<li>乌拉圭</li>
				<li>乌兹别克斯坦</li>
				<li>希腊</li>
				<li>西班牙</li>
				<li>新加坡</li>
				<li>新喀里多尼亚</li>
				<li>新西兰</li>
				<li>匈牙利</li>
				<li>牙买加</li>
				<li>亚美尼亚</li>
				<li>也门</li>
				<li>伊拉克</li>
				<li>伊朗</li>
				<li>以色列</li>
				<li>意大利</li>
				<li>印度</li>
				<li>印尼</li>
				<li>英国</li>
				<li>英属维尔京群岛</li>
				<li>约旦</li>
				<li>越南</li>
				<li>赞比亚</li>
				<li>乍得</li>
				<li>直布罗陀</li>
				<li>智利</li>
				<li>中非共和国</li>
				<li>中国</li>
				<li>中国澳门</li>
				<li>中国台湾</li>
				<li>中国香港</li>
			</ul>
		</div>
		<div id="footer">
			<div id="footer-nav">
				<div id="footer-dl">
					<dl style="margin-left:75px;">
						<dt>卖家帮助</dt>
						<dd><a href="#">新手指南</a></dd>
						<dd><a href="#">服务保障</a></dd>
						<dd><a href="#">常见问题</a></dd>
						<dd><a href="#">风险监测</a></dd>
					</dl>
					<dl>
						<dt>商家帮助</dt>
						<dd><a href="#">供货商招募</a></dd>
						<dd><a href="#">商家后台</a></dd>
					</dl>
					<dl>
						<dt>关于我们</dt>
						<dd><a href="#">关于美丽说</a></dd>
						<dd><a href="#">联系我们</a></dd>
					</dl>
					<dl class="follow-us">
						<dt>关注我们</dt>
						<dd><a href="#"><i></i>新浪微博</a></dd>
						<dd><a href="#"><i style="background-position:-28px 0;"></i>QQ空间</a></dd>
						<dd><a href="#"><i style="background-position:-56px 0;"></i>腾讯微博</a></dd>
					</dl>
				</div>
				<div id="footer-qr">
					<div style="margin-left:136px;">
						<h3>美丽说微信服务号</h3>
						<img src='img/fuwu.jpg'>
					</div>
					<div>
						<h3>美丽说客户端下载</h3>
						<img src='img/app.png'>
					</div>
				</div>
			</div>
			<div id="footer-copy">
				<p style="margin-top:10px;">Copyright ©2017 Meilishuo.com  电信与信息服务业务经营许可证100798号 经营性网站备案信息 </p>
				<p>京ICP备11031139号  京公网安备110108006045   客服电话：4000-800-577  文明办网文明上网举报电话：010-82615762  违法不良信息举报中心</p>
			</div>
		</div>
	</body>
	<script src="js/myajax.js" charset="utf-8"></script>
	<script src="js/animate.js" charset="utf-8"></script>
	<script>
    var oUsername = document.querySelector('input[name=username]');
    var oPassword = document.querySelector('input[name=password]');
    var oBtn = document.querySelector('input[type=button]');
    var oWarning = document.querySelector('.warning');
		var oLoginbox = document.querySelector('#loginbox');
		oPassword.onkeyup = function(event){
			if(event.keyCode === 13){
				loginhtml();
			}
		}
		oUsername.onkeyup = function(event){
			if(event.keyCode === 13){
				loginhtml();
			}
		}
    oBtn.onclick = loginhtml;
		function loginhtml(){
			myajax.post('http://h6.duchengjiu.top/shop/api_user.php',
			{
				status: 'login',
				username: oUsername.value,
				password: oPassword.value
			}, function(error, responseText){
				var json = JSON.parse(responseText);
				console.log(json);
				if(json.message === "密码最小长度为6位"){
					oWarning.style.display = 'block';
					animate(oWarning,{"height":30},500,"Linear");
					animate(oWarning,{"marginTop":16},500,"Linear");
					animate(oLoginbox,{"height":390},500,"Linear");
					oWarning.innerHTML=`<i></i><p>${json.message}</p>`;
				}
				if(json.message === "用户名不存在"){
					oWarning.style.display = 'block';
					animate(oWarning,{"height":30},500,"Linear");
					animate(oWarning,{"marginTop":16},500,"Linear");
					animate(oLoginbox,{"height":390},500,"Linear");
					oWarning.innerHTML=`<i></i><p>${json.message}</p>`;
				}
				if(json.message === "密码错误"){
					oWarning.style.display = 'block';
					animate(oWarning,{"height":30},500,"Linear");
					animate(oWarning,{"marginTop":16},500,"Linear");
					animate(oLoginbox,{"height":390},500,"Linear");
					oWarning.innerHTML=`<i></i><p>${json.message}</p>`;
				}
				if(json.message === "用户名不合法，请填写3-20位的英文数字下划线"){
					oWarning.style.display = 'block';
					animate(oWarning,{"height":30},500,"Linear");
					animate(oWarning,{"marginTop":16},500,"Linear");
					animate(oLoginbox,{"height":390},500,"Linear");
					oWarning.innerHTML=`<i></i><p>${json.message}</p>`;
				}
				if(json.message === "登录成功"){
					localStorage.token = json.data.token;
					localStorage.username = json.data.username;
					if(localStorage.backurl){
						location.href = localStorage.backurl;
					}else{
						location.href = 'index.html';
					}
				}

			});
		}
  </script>
	<script>
		oLoginway = document.querySelector('#twologin-way');
		oNormalLog = document.querySelector('#normal-log');
		oPhoneLog = document.querySelector('#phone-log');
		oNormalLog.onclick = function(){
			oNormalLog.className = 'click-change';
			oPhoneLog.className = '';
			animate(oLoginway,{"left":0},1000,"QuadEaseInOut");
		}
		oPhoneLog.onclick = function(){
			oNormalLog.className = '';
			oPhoneLog.className = 'click-change';
			animate(oLoginway,{"left":-400},1000,"QuadEaseInOut");
		}
	</script>
	<script>
		oCountrySelector = document.querySelector('.country-selector');
		oCountryBox = document.querySelector('.country-box');
		oCountrySelector.onclick = function(){
			oCountryBox.style.display = 'block';
		}
	</script>
</html>
